<!DOCTYPE HTML>
<html>
	<head>
		<title>Croak & Cram</title>
	</head>
	<body>
		<div class="flex-container">
			<div class="left">
				<img class="logo" src="./cc_logo.png" alt="" />
			</div>
			<div class="right">
				<h1>Tasks: Write To-Dos</h1>
				<div id="tasks"></div>
				<input id="write-task-box" type="text" onkeydown="add_task(this)">
			</div>
		</div>
	</body>

	<style>
		@import url('https://fonts.googleapis.com/css2?family=Neucha&display=swap');
		:root {
			background-color: #91BA8D;
			font-family: "Neucha", cursive;
		}
		.flex-container {
			display: flex;
			flex-flow: row wrap;
			width: 100%;
			justify-content: space-evenly;
			align-items: center;
		}
		.left {
			flex: 10%;
			margin: 2rem;
		}
		.right {
			flex: 30%;
		}
		.logo {
			max-width: 100%;
		}
		checkbox, .task-item {
			font-size: 2rem;
		}
		#write-task-box {
			padding: 0.5rem;
			font-family: "Neucha", cursive;
			font-size: 2rem;
			width: 80%;
		}
	</style>
	<script>
		let counter = 0;
		function add_task(content) {
			if(event.key === 'Enter') {
				let taskDiv = document.createElement('div');
				taskDiv.className = "task-item";
				taskDiv.id = "task" + counter;
				let taskContent = document.createTextNode(content.value);
				let checkbox = document.createElement('input');
				checkbox.type = "checkbox";
				checkbox.addEventListener("click", remove_task);
				checkbox.id = "checkbox" + counter;
				taskDiv.appendChild(checkbox);
				taskDiv.appendChild(taskContent);

				let tasks = document.getElementById('tasks');
				tasks.append(taskDiv);
				counter++;

				let taskTextbox = document.getElementById('write-task-box');
				taskTextbox.value = "";
 			}
		}
		function remove_task(event) {
			let checkboxId = event.srcElement.id;
			let taskId = checkboxId.replace("checkbox", "task");
			let taskDiv = document.getElementById(taskId);

			let checkbox = document.getElementById(checkboxId);

			if (checkbox.checked) {
				taskDiv.style.textDecoration = 'line-through';
			}
			else {
				taskDiv.style.textDecoration = 'none';

			}
		}
	</script>
</html>